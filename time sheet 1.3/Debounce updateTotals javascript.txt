let debounceTimer;
function updateTotals() {
  clearTimeout(debounceTimer);
  debounceTimer = setTimeout(() => {
    // original code...
  }, 300);
}